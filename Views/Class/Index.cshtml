@model List<examination_system.Models.Class>

@{
    ViewBag.Title = "classes";
}


<div style="margin:0 70px">
    <h2 class="text">classes</h2>
    <span class="text lbel">search name</span>
    <input id="search" class="text input" oninput="GetAccounts()" type="text" />
</div>
<div style="width: 100%; height: auto;justify-content:center; display: flex; flex-direction: row; flex-wrap: wrap; align-items: center;">
    <div id="all" style="width: 80%; height: auto;justify-content:center; display: flex; flex-direction: row; flex-wrap: wrap; align-items: center;">
        @foreach (var Class in Model)
        {
            if (Class != null)
            {
                @Html.Partial("_Class", Class, ViewData);
            }
        }
        @if (User.IsInRole("admin") || User.IsInRole("superadmin"))
        {
            <div style="height:317.844px" class="pnladd col-sm-3" onclick="document.getElementById('add').click()">
                <a href="~/Class/Add" id="add"></a>
                <img src="~/Resources/Account/add.svg" class="Img" />
                <div>ADD NEW</div>
            </div>
        }
    </div>
</div>
    @section Scripts {
        <script>
            function deleteclass(id) {
                alert("ARE YOU SURE TO DELETE Class")
                $.ajax({
                    url: '/Class/Delete?Id=' + id,
                    data: { Id: id },
                    success: function (r) {
                        if (r != "True") {
                            alert("you can't delete Class")
                        } else {
                            location.reload();
                        }
                    }
                });
            }
            function dlt(id) {
                var i = document.getElementById(id);
                i.style.display = "none"
            }
            function filldots(id) {
                var i = document.getElementById(id);
                if (i.style.display == "none")
                    i.style.display = "block";
                else
                    i.style.display = "none"
            }
            function GetAccounts() {
                var search = document.getElementById("search");
                if (search.value != "") {
                    $.ajax({
                        url: '/Class/Search?SearchName=' + search.value,
                        type: 'GET',
                        dataType: 'Html',
                        data: { SearchName: search.Value },
                        success: function (r) {
                            $("#all").html(r);
                        }
                    });
                } else {
                    location.reload();
                }
            }
        </script>
    }

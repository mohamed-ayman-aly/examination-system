@model examination_system.Models.Exam
@{
    ViewBag.Title = "ViewDetails";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int counter = 1;
}
<div class="container">
    <div class="grid">
        <div>
            <svg class="ImgFileName" height="200" width="200">
                <defs>
                    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color: #685de7; stop-opacity: 1" />
                        <stop offset="100%" style="stop-color: #007fa8; stop-opacity: 1" />
                    </linearGradient>
                </defs>
                <text y="60%" x="10%" font-size="4em" textLength="150" lengthAdjust="spacingAndGlyphs" fill="url(#grad1)">@Model.Name</text>
            </svg>
            <h3>Exam: @Model.Name</h3>
            <h5>professor: @Model.Professor.UserName</h5>
            <h5>Class: @Model.Class.Name</h5>
            <h5>Time: @Model.Duration M</h5>
        </div>
        <div>
            <table>
                <thead>
                    <tr>
                        <td>#</td>
                        <td>Student</td>
                        <td>Attendance</td>
                        <td>Degree</td>
                        <td>Out Of</td>
                        <td>Success</td>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var e in Model.ExamStudent)
                    {
                        <tr>
                            <td>@(counter++)</td>
                            <td>@e.Student.UserName</td>
                            <td><input type="checkbox" checked disabled /><label>attended</label></td>
                            <td>@e.Degree</td>
                            <td>@Model.Degree()</td>
                            <td>
                                @if (e.Degree >= e.Exam.Degree() / 2)
                                {
                                    <input type="checkbox" checked disabled /><label>succeeded</label>
                                }
                                else
                                {
                                    <input type="checkbox" class="badcheckbox" disabled /><label>failed</label>
                                }
                            </td>
                        </tr>
                    }
                    @foreach (var Student in Model.Class.Students)
                    {
                        if(Model.ExamStudent.Where(es=>es.Student.Id== Student.Id).Count()==0){
                            <tr>
                                <td>@(counter++)</td>
                                <td>@Student.UserName</td>
                                <td><input type="checkbox" class="badcheckbox" disabled /><label>absented</label></td>
                                <td>0</td>
                                <td>@Model.Degree()</td>
                                <td><input type="checkbox" class="badcheckbox" disabled /><label>failed</label></td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<style>
    .grid {
        display: grid;
        grid-template-columns: 1fr 3fr;
        margin: 25px 0;
    }

    .ImgFileName {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        border: solid #e1e8ff 10px;
        background: #007fa861;
    }

    input[type=checkbox] {
        display: none;
    }

        input[type=checkbox] + label:before {
            border: 0.1em solid black;
            border-radius: 0.2em;
            display: inline-block;
            width: 2em;
            height: 2em;
            display: flex;
            justify-content: center;
            align-items: center;
            line-height: 100%;
            vertical-align: bottom;
            color: white;
            margin-right: 10px;
        }

    label {
        display: flex;
        align-items: center;
    }

    input[type=checkbox]:checked + label:before {
        content: "\2714";
        background-color: #007fa8;
    }

    input[type=checkbox] + label:before {
        content: "X";
        background-color: #c80c0c;
    }

    table {
        border-collapse: collapse;
        font-size: 1.1em;
        font-family: sans-serif;
        width: 100%;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
    }

        table thead tr {
            background-color: #007fa8;
            color: #ffffff;
            text-align: left;
        }

        table th,
        table td {
            padding: 12px 15px;
        }
</style>